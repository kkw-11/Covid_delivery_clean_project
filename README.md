# (클린한끼)
- 코로나로 인한 배달서비스 급증에 따른 소비자 민원 조사 및 위생상태 불량 적발 건수 데이터 분석과 이러한 사용자들의 불만해결을 위한 지역별 위생 가게 정보 제공
- [클린한끼 사이트 바로가기](https://kdt-vm-0202011.koreacentral.cloudapp.azure.com/)

## 프로젝트 아키텍처 

![image](https://user-images.githubusercontent.com/76929823/137636476-de8b0ccd-67cb-4ada-abf0-91760cdf315e.png)

🗓 **프로젝트 일정**

- 프로젝트 기간 : 2021.9.27(월) ~ 2021.10.15(금)

![image](https://user-images.githubusercontent.com/76929823/137832730-7af13496-6cf9-49e8-8df4-887bf73d74b1.png)


## 1. 프로젝트 소개

**어떠한 데이터셋와 도구 및 기술을 사용했는지에 대한 설명과 엔드유저에게 보이는 웹서비스에 대한 소개**
- 사용하려는 데이터(제안된 데이터 중 하나 또는 선택한 다른 데이터 세트)를 명시, 이에 대한 설명
  - [전국 인허가 데이터 행정안전부_일반음식점(수시)20210731](https://www.data.go.kr/data/15045016/fileData.do)
  - [행정안전부휴게음식점(수시)_20210731](https://www.localdata.go.kr/data/dataView.do)
  - [식품안전나라 '식품접객업소 위생등급 지정현황' 식품의약품안전처](https://www.foodsafetykorea.go.kr/apiMain.do)
  - [통계청 온라인 쇼핑 거래액 ( 음식 서비스)](http://kostat.go.kr/understand/info/info_lge/1/detail_lang.action?bmode=detail_lang&cd=SL4420)

- 기술 스택 (python, flask, javascript, react, MySQL 등)
- 사용된 라이브러리 (pandas, numpy, matplotlib, wordcloud, chart.js 등)
- 웹서비스에 대한 자세한 개요 (코로나로 인한 배달서비스 급증에 따른 소비자 민원 조사 및 위생상태 불량 적발 건수 데이터 분석과 이러한 사용자들의 불만해결을 위한 지역별 위생 가게 정보 제공)

## 2. 프로젝트 목표

**데이터 분석 결과로 도출되는 인사이트와 웹서비스의 해결과제에 대한 논의 (50자 이상)**
- 프로젝트 아이디어 동기
  - 데이터 분석 결과 코로나로 인해 배달음식이 급증했다는 인사이트를 얻고, 배달음식이 조리상태를 확인할 수 없어 위생상태에 대한 불만이 많다는 사실을 알게 되었습니다. 그래서 이러한 소비자 불만을 해결하기 위한 정보제공 서비스를 개발하고자 하였습니다.

## 3. 프로젝트 기능 설명

**웹서비스의 유용성, 편의성 및 시각화의 실용성에 대한 설명**
  - 주요 기능 (주된 활용성) 및 서브 기능
    - 정보검색 기능
      - 배달 관련 데이터 정보 제공
      - 전국 위생가게 현황 및 등급 시각화
      - 식약처 위생인증 정보 확인
      - 메뉴 추천 게임 (메뉴 지뢰 찾기, 메뉴 월드컵 16강)
  
  - 프로젝트만의 차별점, 기대 효과
    * 통계적 기법(정규화)을 이용한 데이터 전처리를 바탕으로 정확한 정보 제공

## 4. 프로젝트 구성도 및 기능 설명
  - [클린한끼](https://whimsical.com/v3-3ctRi38AoRBshnap5YwmxJ)
### To-Do List

* [x] 지역별 위생등급별 가게수 확인 기능
* [x] 위생가게 수에 따른 지도 색표시 기능
* [x] 위생가게 수치 절대값, 상대값 전환 기능
* [x] 프로젝트 소개 페이지 그래프 시각화기능
  * [x] 코로나 전후 배달대행 건수 비교 막대 그래프 
  * [x] 배달음식 민원 비율 그래프
  * [x] 코로나 이후 위생 상태 불량 적발 건수 증가 그래프
* [x] 위생가게 정보 검색 기능
  * [x] 가게이름별 검색
  * [x] 지역별 검색
  * [x] 업태(ex.한식, 중식, 양식, 카페,디저트)별 검색
  * [x] 사용자 위치 기반으로 가까운 가게 우선순위로 데이터 리스트 출력 기능
  * [x] 프랜차이즈를 제외한 일반가게만 보기 기능
  * [ ] ~~가게별 네이버 별점, 가게 영업시간 정보 제공 기능~~
* [x] 먹고 싶은 메뉴 고르기 게임 기능
  * [x] 메뉴 지뢰 찾기
  * [x] 메뉴 월드컵 16강
   * [X] 다시 하기 기능 
   * [ ] ~~공유하기 버튼~~
* [ ] ~~먹고 싶은 메뉴와 위생가게 연결기능~~

## 5. 프로젝트 팀원 역할 분담
| 이름 | 담당 업무 |
| ------ | ------ |
| 강경모 | 팀장/프론트엔드 개발 |
| 고예림 | 프론트엔드 개발 |
| 김기원 | 백엔드 개발/기획/데이터분석|
| 민경준 | 프론트엔드 개발/백엔드 개발/데이터분석 |
| 최윤성| 데이터분석/기획/백엔드 개발 |

**멤버별 responsibility**

1. 기획

- 기획 단계: 구체적인 설계와 지표에 따른 프로젝트 제안서 작성
- 개발 단계: 팀원간의 일정 등 조율 + 프론트 or 백엔드 개발
- 수정 단계: 기획, 스크럼 진행, 발표 준비


2. 백엔드 & 데이터 담당

- 기획 단계: 데이터 분석을 통해 해결하고자 하는 문제를 정의
- 개발 단계: 데이터 베이스 구축 및 API 설계, 데이터 분석 개념 총동원하여 데이터 분석하기
- 수정 단계: 코치님 피드백 반영해서 분석/ 시각화 방식 수정

## 6. 버전
  - 프로젝트의 버전 기입
    - V1 - 대시보드형태의 데이터 시각화 정보제공
    - V2 - 스토리텔링 형태의 데이터 시각화 정보제공
    - V3 - 스토리텔링 형태의 데이터 시각화 정보 및 거리기반 위생 가게 정보 제공 및 사용자에게 재미 요소인 메뉴 고르기 게임 

## 7. FAQ
  - 자주 받는 질문 정리

## 8. 배운점
- 포지션별 배운점 (백엔드 기술 & 기획)
  - 백엔드 
    - 백엔드 포지션을 맡으면서 api를 설계하고 DB 테이블 설계와 CURD하는 법에 대해 익힐 수 있었고, 공공데이터를 api를 활용해 받아온 후 데이터 분석을 하고 추가적으로 필요한 데이터는 무엇이 있는지 파악하고 프로젝트의 방향을 정하는 과정에서 공공데이터 활용법에 대해서도 배울 수 있었습니다. 
    - 프론트엔드 팀과 어떻게 소통하고 데이터를 주고 받아야 하는지 알 수 있었습니다. 개인프로젝트에서는 flask 백엔드와 jinja template을 사용해 프론트 부분과 데이터를 주고 받았으나 이번에는 프론트엔드의 react와 데이터를 주고 받아야 했기 때문에 json으로 데이터를 넘기고 axios로 통신하는 법을 배웠습니다. 
    - 그리고 역할분담을 하여 초반에 데이터 분석과 기획을 맡고 데이터 분석, 기획 후 프로토 타입 개발후에 개발작업에 투입하여 다른사람의 코드를 보고 저가 맡은 일반가게 보기 기능을 추가하는 코드를 작성하려고 하니 어려움이 많아 리팩토링과 확장성 좋은 코드를 짜는 것의 중요성을 깨달았습니다. 
    - 원하는 데이터가 없을 때 크롤링을 통해 데이터를 수집하는 방법에 대해서도 배웠습니다. 그리고 react와 flask를 azure VM에 NGINX서버를 사용해 배포하는 법도 배울 수 있었습니다. 여기서 중요한 이슈가 있었습니다. 
    - NGINX 서버블락 설정하는 법에 대해서도 배울 수 있었습니다. react에서 마지막에 추가한 기능인 Geolocation라이브러리를 사용해 사용자의 위치정보를 수집하는 코드가 있었는데 이러한 라이브러리가 https에서만 지원하는 기능이었습니다. 하지만 기존에 배포한 nginx가 http만 통신을 지원하도록 적용해놨기 때문에 문제가 되었습니다. 그래서 https를 nginx에 적용하면서 NGINX에 대해서도 잘 알게 되었습니다.
    - 이렇게 서버배포를 직접 해보면서 WAS와 Web Server의 차이를 이해할 수 있었습니다.
    - 프론트엔드에서 SPA로 개발하여 새로고침 또는 url로 직접 새로운 페이지에 접근 할때 페이지를 찾지 못하는 부분을 서버 블락 설정으로 해결하는 방법을 배웠습니다.
    - git을 이용한 첫 팀프로젝트를 하며 git의 사용법에 대해서도 더 자세히 알 수 있었습니다. 프로젝트 발표 최종 전날에 잘못 push를 하는 바람에 이전 commit 상태로 되돌리고 다시 코드를 수정해야하는 일도 발생하며 git의 고마움도 새삼 느낄 수 있었습니다. 그리고 팀원끼리 진행하는 프로젝트 이다 보니 git commit 메세지도 통일하여 나중에 git log를 확인 하였을 때 log에 적힌 commit 메세지만 봐도 어떠한 작업을 커밋했는지 확인할 수 있었습니다.
    - 우리 프로젝트가 21만개의 데이터를 프론트로 넘겨 처리하는 소스가 많았는데 이때 처리해야하는 서버의 성능이 좋지 않아 유저가 여러명 요청했을 때 서버 과부하가 걸리는 경우가 있었습니다. 이때 물리적으로 서버를 늘리지 않고 서버 튜닝을 통해서 서버의 성능을 향상시킨 경험도 백엔드 개발자로서 데브옵스 적인 역량을 키운 좋은 경험이었습니다.
   
  - 기획
    - 최근 가장 각광받는 프로젝트 개발방법론인 애자일 방법론을 채택해 시장의 변화에 빠르게 반응하여 고객이 수용하고 납들할 만한 최소한의 설계와 개발을 반복하는 고객중심의 개발방법론을 프로젝트에 적용하고 실행하는 법을 배울 수 있었습니다.
    - 기획서에 작성된 와이어 프레임을 토대로 빠르게 프로토 타입을 만들어 유저의 피드백을 들을 수 있도록 하였고, 이를 바탕으로 이질적으로 보이던 기능들을 스토리텔링 형식을 빌려 엮어 낼 수 있었습니다.
    - 애자일의 세부 방법중 스크럼 방법을 사용했습니다. 매일 오전 10시에 회의를 하며 작은 목표를 짧은 주기로 체크하며 어제 한일, 오늘 할일, 이슈, 장애 현상등을 공유하고 기록하였습니다. 그리고 프로젝트의 큰 목표를 1차 목표와 2차 목표로 구분하여 프로젝트를 지속적으로 관리하여 완성도 있는 프로젝트를 달성할 수 있었습니다.
  
- 팀프로젝트를 하며 배운점
  - 팀 프로젝트는 운동에 비유하면 축구 같은 팀스포츠이고 그래서 팀원간의 화합이 중요하다고 생각합니다. 이러한 화합이 실제 결과에 미치는 영향에 대해서도 몸소 배울 수 있었습니다. 백엔드와 기획을 동시에 맡으면서 팀원들이 모두 납득가능한 기획의 방향을 잡는데 어려움을 겪었습니다. 기획의 어려움으로 인해 팀원이 모두 다른 생각을 갖고 프로젝트를 하는 기분이 들었습니다. 데이터팀은 정확한 정보전달과 기능, 프론트엔드 팀은 사용자입장에서 조금 더 재미요소를 갖춘 프로젝트 처럼 서로가 바라보는 방향이 달라 이러한 방향을 한곳으로 모으면서 좋은 프로젝트를 기획하는 것이 어려웠으나, 유저입장에서의 피드백을 많이 들으면서 두 방향을 한곳으로 모을 수 있었고, 조금 더 완성도 있는 프로젝트를 기획할 수 있게 되었습니다. 한곳으로 방향이 정해지면서 마지막주에는 특별히 어떠한 일을 해야하는지 말해주지 않아도 적극적으로 자기 맡은 역할을 수행하면서 완성도 있는 기획만큼 완성도 있는 프로젝트를 만들어 낼 수 있었습니다. 
  - 프로젝트 기간동안 매일 아침 10에 모여 스크럼을 진행하며 커뮤니케이션을 하는 법에 대해서도 배울 수 있었습니다. 처음에는 프론트엔드에서 중요하게 생각하는 것과 백엔드에서 중요하게 생각하는 것의 차이를 이해하지 못해서 커뮤니케이션의 어려움을 겪었으나 프로젝트를 진행하면서 상대방의 입장에서 생각해보는 법을 알게 되었고, 이릍 통해 내가 알고있는 것을 상대방이 이해할 수 있는 언어로 정리해 표현하는 것이 얼마나 중요한지 그리고 어떻게 표현 해야하는지도 알 수 있었습니다. 기획이후에 본격적인 프로젝트 진행기간에는 프론트엔드 팀과 백엔드 팀이 데이터를 주고 받는 과정에서 코드를 작성할 때도 api로 소통하는 법을 배웠습니다. 
  - 백엔드의 기능 만큼 프론트엔드의 중요성에 대해서도 배웠습니다. 백엔드 포지션으로 취업을 희망하며 데이터 처리를 어떻게 하고 기능이 어떻게 동작하는지에 대해서만 관심을 가졌는데 잘 동작하는 기능도 결국엔 잘 꾸며진 디자인 없이는 사용자가 사용하도록 만드는 데는 힘들다는 것을 알았고 유저입장에서 생각하는 법을 배웠습니다. 
  
- 보완할 점
  - 3주라는 짧은 기간동안 원하는 많은 기능을 넣기 위해 기능동작이라는 목표는 달성하였으나 코드의 가독성과, 확장성을 생각하지 못하고 개발하였습니다. 추후에는 단순히 동작만 하는 코드가 아니라 확장성 있는 코드를 위해 레거시 코드를 리팩토링하는 작업과 추가기능을 더 보완할 생각입니다.
  - DB 테이블도 확장성이 좋은 테이블 설계를 하지 못한 점도 아쉬워서 테이블 설계 모델링 부분도 보완할 생각입니다.
